<!doctype html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<title>Test</title>
</head>
<body>
    <h1>Test</h1>

    <ul>
        <li>item 1</li>
        <li>item 2</li>
        <li>item 3</li>
    </ul>


<script>
    'use strict';
    const p = console.log;

    const str = 'hello';
    const otherStr = ' world';
    const nodeList = document.querySelectorAll('li');
    const arr = ['cat', 'dog', 'fish'];
    const arr2 = ['pig', 'cow'];
    const dude = {name: 'bob', age: 32, job: 'chef'};
    const jedi = {name: 'yoda', mates: ['luke', 'Obi Wan']};

// -----------------------------------------


const JSONstr = '{"dude": {"name": "bob", "age": "23"}, "cat": "fluffy"}';

const x = JSON.parse(JSONstr);
p(x);

const y = JSON.stringify(x);
p(y);


const getJSON = (data) => {
    return new Promise( (resolve, reject) => {
        setTimeout( () => {
            const t = Math.floor(Math.random() * 2);
            //console.log(t);
            if (t) {
                return resolve(data);
            }
            else {
                return reject(new Error(`Oh-oh, ajax error`));
            }
        }, 1000);
    })
};

getJSON(JSONstr)
    .then(result => JSON.parse(result))
    .then(ob => p(ob))
    .catch(err => {
        p(err);
    });


// Try, catch
const num = 6;
function test(x) {
    if (x > 5) {
        throw new RangeError('too big!');
    }
    else {
        p('num: ' + x);
    }
}

try {
    test(num);
}
catch(err){
    p(err);
    test(num - 1);
}







    
</script>

</body>